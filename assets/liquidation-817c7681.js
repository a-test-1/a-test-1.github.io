import{d as H,x as R,c as g,z as w,o as U,A as b,l as B,E as s,B as e,D as c,C as A,Q as d,S as $,T as V,O as m,aO as F,e as h,aP as J,J as I,F as O,G as W,u as G,U as K,_ as Q}from"./index-98b3a28d.js";import{I as j}from"./index-7bbee7e2.js";import{N as X}from"./index-dfbe7eb4.js";import{p as Y}from"./home-aee6d9e6.js";const Z="/assets/kline-e2f7f558.svg",ee=x=>(O("data-v-f57331bb"),x=x(),W(),x),te={class:"cexPor-container"},ae={class:"p-15px"},le={class:"card-container flex items-center"},oe={class:"flex flex-col"},ne={class:"flex items-center font-400"},se={class:"text-size-16px font-500 color-#333 mr-6px"},ie={class:"text-size-14px color-#333"},ce=ee(()=>e("span",{style:{flex:"1"}},null,-1)),re=["onClick"],ue={class:"tabs"},de=["onClick"],ve={class:"pl-15px pr-15px pb-50px"},pe={class:"table-container"},fe={class:"inline-flex items-center"},_e={class:"icon-sort-container"},be={class:"inline-flex items-center"},me={class:"icon-sort-container"},he=H({__name:"liquidation",setup(x){const S=new URL("/assets/icon-default-995adb35.png",self.location).href,{t:f}=R(),N=F(),P=G();let C=g(()=>{var l;return((l=k.value.find(t=>t.id===u.value))==null?void 0:l.name)||"ETH"}),z=g(()=>{var l;return((l=k.value.find(t=>t.id===u.value))==null?void 0:l.logo)||"https://www.avestorage.cloud/token_icon/eth/0x2260fac5e5542a773aa44fbcfedf7c193bc2c599.png"}),u=w(N.params.symbol||"eth"),k=g(()=>[{name:"ETH",id:"eth",logo:"https://www.avestorage.cloud/token_icon/eth/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2.png"},{name:"BTC",id:"btc",logo:"https://www.avestorage.cloud/token_icon/eth/0x2260fac5e5542a773aa44fbcfedf7c193bc2c599.png"},{name:"BNB",id:"bnb",logo:"https://www.avestorage.cloud/token_icon/bsc/0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c.png"}]);function L(l){u.value=l,P.replace({name:"Liquidation",params:{symbol:u.value}}),q()}let v=w({price:0,price_change:0,data:{currentPrice:0,topPositions:[]}});function q(){Y(u.value).then(l=>{console.log(l),v.value=l}).finally(()=>{})}let i=w(0),o=w(""),D=g(()=>{var l,t,r,p;return i.value===0||o.value===""?((t=(l=v.value)==null?void 0:l.data)==null?void 0:t.topPositions)||[]:(((p=(r=v.value)==null?void 0:r.data)==null?void 0:p.topPositions)||[]).slice(0).sort((a,n)=>{let _=o.value&&(a!=null&&a[o.value])?a==null?void 0:a[o.value]:0,E=o.value&&(n!=null&&n[o.value])?n==null?void 0:n[o.value]:0;return(Number(_)-Number(E))*i.value})});function y(l){if(o.value!==l){o.value=l,i.value=1;return}i.value++,i.value>1&&(i.value=-1)}function M(){var p,a,n,_;let l={eth:["0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2","eth"],btc:["0x2260fac5e5542a773aa44fbcfedf7c193bc2c599","eth"],bnb:["0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c","bsc"]},t=window,r=l==null?void 0:l[u.value];r&&((p=t==null?void 0:t.WKWebViewJavascriptBridge)!=null&&p.callHandler?K("openMarketPage",...r,u.value.toUpperCase()):(a=window==null?void 0:window._tw_)!=null&&a.openMarketPage&&r&&((_=(n=window._tw_)==null?void 0:n.openMarketPage)==null||_.call(n,...r)))}function T(){q()}return U(()=>{T()}),(l,t)=>{const r=X,p=j;return h(),b("div",te,[B(r,{title:s(C)+" "+s(f)("liquidationDetail"),"left-text":"",fixed:"",placeholder:"","left-arrow":"",onClickLeft:t[0]||(t[0]=a=>s(J)(s(P))),"safe-area-inset-top":"",class:"header-container"},null,8,["title"]),e("div",ae,[e("div",le,[B(p,{class:"mr-10px w-48px h-48px",round:"","lazy-load":"","show-loading":"",src:s(z),"error-icon":s(S)},null,8,["src","error-icon"]),e("div",oe,[e("div",ne,[e("span",se,c(s(C)),1),e("span",{class:"text-size-14px",style:A({color:v.value.price_change>=0?"var(--upColor)":"var(--downColor)"})},c(v.value.price_change>=0?"+":"")+c(v.value.price_change),5)]),e("div",ie,"â‰ˆ $ "+c(v.value.data.currentPrice),1)]),ce,e("img",{src:Z,class:"h-25px clickable",alt:"",onClick:d(M,["stop"])},null,8,re)])]),e("div",ue,[(h(!0),b($,null,V(s(k),(a,n)=>(h(),b("button",{key:n,class:m(["tabs-btn",{active:u.value===a.id}]),onClick:d(_=>L(a.id),["stop"])},c(a.name),11,de))),128))]),e("div",ve,[e("table",pe,[e("tr",null,[e("th",null,c(s(f)("liquidationPlatform")),1),e("th",null,c(s(f)("publicBlockchain")),1),e("th",{onClick:t[3]||(t[3]=d(a=>y("collateralValue"),["stop"]))},[e("div",fe,[e("span",null,c(s(f)("totalVolume"))+"($)",1),e("div",_e,[e("i",{class:m(["iconfont icon-sort-up",{active:i.value===1&&o.value==="collateralValue"}]),onClick:t[1]||(t[1]=d(a=>{i.value=1,o.value="collateralValue"},["stop"]))},null,2),e("i",{class:m(["iconfont icon-sort-down",{active:i.value===-1&&o.value==="collateralValue"}]),onClick:t[2]||(t[2]=d(a=>{i.value=-1,o.value="collateralValue"},["stop"]))},null,2)])])]),e("th",{onClick:t[6]||(t[6]=d(a=>y("liqPrice"),["stop"]))},[e("div",be,[e("span",null,c(s(f)("liquidationPrice"))+"($)",1),e("div",me,[e("i",{class:m(["iconfont icon-sort-up",{active:i.value===1&&o.value==="liqPrice"}]),onClick:t[4]||(t[4]=d(a=>{i.value=1,o.value="liqPrice"},["stop"]))},null,2),e("i",{class:m(["iconfont icon-sort-down",{active:i.value===-1&&o.value==="liqPrice"}]),onClick:t[5]||(t[5]=d(a=>{i.value=-1,o.value="liqPrice"},["stop"]))},null,2)])])])]),(h(!0),b($,null,V(s(D)||[],(a,n)=>(h(),b("tr",{key:n},[e("td",null,c(a.protocol),1),e("td",null,c(a.chain),1),e("td",null,c(s(I)(a.collateralValue,2)),1),e("td",null,c(s(I)(a.liqPrice,2)),1)]))),128))])])])}}});const Pe=Q(he,[["__scopeId","data-v-f57331bb"]]);export{Pe as default};
